---
# ============================================================
# GitOps Infrastructure - Global Configuration
# ============================================================

# ArgoCD 安装方式选择
# - 'manifest': 使用官方 kubectl manifest（推荐，稳定性好）
# - 'helm': 使用 Helm Chart（某些环境可能有兼容性问题）
argocd_install_method: "manifest"

# 如果您遇到 ArgoCD Pod 崩溃（exec format error），请使用 manifest 方式
# 如果需要更好的版本管理和配置管理，可以尝试 helm 方式

# ============================================================
# 服务端口配置
# ============================================================
harbor_http_nodeport: 30002
argocd_http_nodeport: 30003
argocd_https_nodeport: 30443

# ============================================================
# 版本配置
# ============================================================
harbor_chart_version: "1.13.1"
argocd_chart_version: "5.51.6"  # 仅在 helm 方式时使用
cert_manager_chart_version: "v1.13.3"

# ArgoCD Manifest URL（仅在 manifest 方式时使用）
argocd_manifest_url: "https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml"

# ============================================================
# 命名空间配置
# ============================================================
platform_namespace: platform
argocd_namespace: argocd
gitlab_runner_namespace: gitlab-runner

# ============================================================
# Harbor 配置
# ============================================================
harbor_admin_password: "Harbor12345"
harbor_registry_size: "10Gi"
harbor_database_size: "2Gi"
harbor_redis_size: "1Gi"
harbor_trivy_size: "5Gi"

# ============================================================
# GitLab Runner 配置
# ============================================================
# GitLab URL - 修改为你的 GitLab 实例地址
gitlab_url: "https://gitlab.com/"

# GitLab Runner Registration Token
# 获取方式:
# 1. 项目级别: Settings > CI/CD > Runners > Expand > Registration token
# 2. 组级别: Group > Settings > CI/CD > Runners
# 3. 实例级别(自托管): Admin Area > Overview > Runners
# 注意: 请在运行 playbook 前替换为实际的 token
gitlab_runner_token: "YOUR_GITLAB_RUNNER_TOKEN_HERE"

# GitLab Runner Chart 版本
gitlab_runner_chart_version: "0.58.2"

# Runner 并发任务数
gitlab_runner_concurrent: 10

# Runner 检查间隔(秒)
gitlab_runner_check_interval: 30
